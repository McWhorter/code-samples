// ============================================================================
// Flex Grid
// ============================================================================

.flex-grid {
  display: flex;
  flex-direction: column;

  // 2 Column Grid
  // ---------------------------------------------------------------------------

  &.columns-2 {
    @include breakpoint(md) {
      flex-direction: row;
      flex-wrap: wrap;
      margin-right: calc(var(--gap) * -0.5);
      margin-left: calc(var(--gap) * -0.5);

      & > .cell {
        width: calc(#{percentage(1/2)} - var(--gap));
        margin: calc(var(--gap) * 0.5);
      }
    }
  }

  // 3 Column Grid
  // ---------------------------------------------------------------------------

  &.columns-3 {
    @include breakpoint(lg) {
      flex-direction: row;
      flex-wrap: wrap;
      margin-right: calc(var(--gap) * -0.5);
      margin-left: calc(var(--gap) * -0.5);

      & > .cell {
        width: calc(#{percentage(1/3)} - var(--gap));
        margin: calc(var(--gap) * 0.5);
      }
    }
  }

  // 4 Column Grid
  // ---------------------------------------------------------------------------

  &.columns-4 {
    @include breakpoint(md) {
      flex-direction: row;
      flex-wrap: wrap;
      margin-right: calc(var(--gap) * -0.5);
      margin-left: calc(var(--gap) * -0.5);

      & > .cell {
        width: calc(#{percentage(1/2)} - var(--gap));
        margin: calc(var(--gap) * 0.5);
      }
    }

    @include breakpoint(lg) {
      & > .cell {
        width: calc(#{percentage(1/4)} - var(--gap));
      }
    }
  }
}
